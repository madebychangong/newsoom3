# 올바른 검수 규칙 정리

## ⚠️ 핵심 오해 수정!

기존에 제가 **"정확히 맞춰야 한다"**고 잘못 이해했던 부분을 수정합니다.

---

## ✅ 올바른 검수 기준

### 📌 정확히 맞춰야 하는 것 (3개)

1. **첫 문단 통키워드: 정확히 2회**
   - ❌ 나쁜 예: "팔꿈치 쿠션 보호대를" → 조사 붙으면 0회
   - ✅ 좋은 예: "팔꿈치 쿠션 보호대 관련" → 띄어쓰기로 1회

2. **키워드로 시작하는 문장: 정확히 2개**
   - 줄 맨 앞에서 키워드로 시작
   - 예: "팔꿈치 쿠션 보호대 알아보는 중인데요."

3. **글자수: 300~900자 범위**
   - 공백과 줄바꿈 제외한 순수 글자수

---

### 📌 최소 이상이면 OK (4개)

4. **첫 문단 키워드 사이 문장: 최소 2개 이상**
   - 2개든 3개든 4개든 OK!
   - 온점(.), 쉼표(,)로 분리

5. **나머지 통키워드: 목표 이상**
   - 엑셀 D열 목표가 3개면 → 3개 이상이면 OK
   - 5개 들어가도 괜찮음!
   - **굳이 줄일 필요 없음**

6. **조각키워드: 목표 이상**
   - 엑셀 E열 목표가 2개면 → 2개 이상이면 OK
   - 4개 들어가도 괜찮음!
   - **굳이 줄일 필요 없음**

7. **서브키워드: 목표 이상**
   - 엑셀 F열 목표가 5개면 → 5개 이상이면 OK
   - 8개 들어가도 괜찮음!
   - **굳이 줄일 필요 없음**

---

### 🚫 필수: 금칙어 제거

8. **금칙어: 0개**
   - 금칙어 리스트.xlsx의 모든 금칙어 제거
   - 대체어로 자동 치환
   - **매우 중요!**

---

## 📊 예시로 이해하기

### 원본 원고 분석

```
첫문단 통키워드: 0회 → ❌ 부족 (목표: 정확히 2회)
키워드로 시작 문장: 2개 → ✅ OK
키워드 사이 문장: 0개 → ❌ 부족 (목표: 최소 2개)
글자수: 576자 → ✅ OK (300~900)
나머지 통키워드: 1회 → ✅ OK (목표: 0 이상)
조각키워드: 2,2,2 → ✅ OK (목표: 0,0,1 이상)
서브키워드: 8개 → ✅ OK (목표: 0 이상 - 몇 개든 OK!)
```

**결과: 5/7 충족**

문제는 단 2가지:
1. 첫문단 통키워드 0회 (조사 때문)
2. 키워드 사이 문장 0개

---

## 🎯 v2 시스템의 올바른 동작

```python
# 나머지 통키워드 - 목표 이상이면 추가 안 함
if data['actual'] < data['target']:  # 부족할 때만
    tasks.append(f"[{kw}] 를 최소 {diff}개 추가 (이상이면 OK)")

# 조각키워드 - 목표 이상이면 추가 안 함
if data['actual'] < data['target']:  # 부족할 때만
    tasks.append(f"[{kw}] 를 최소 {diff}개 추가 (이상이면 OK)")

# 서브키워드 - 목표 이상이면 추가 안 함
if actual < target:  # 부족할 때만
    tasks.append(f"최소 {diff}개 더 추가 (이상이면 OK)")
```

---

## ✅ 검증 로직

```python
all_ok = (
    첫문단_통키워드 == 2 and           # 정확히 2
    키워드_문장시작 == 2 and            # 정확히 2
    키워드사이_문장수 >= 2 and          # 최소 2 이상
    300 <= 글자수 <= 900 and           # 범위 내
    나머지_통키워드 >= 목표 and         # 이상 OK
    조각키워드 >= 목표 and              # 이상 OK
    서브키워드 >= 목표                  # 이상 OK
)
```

---

## 🚀 핵심 요약

1. **정확히**: 첫문단 통키워드 2회, 문장 시작 2개, 글자수 범위
2. **이상**: 나머지는 다 목표 이상이면 OK!
3. **금칙어**: 반드시 0개
4. **조사**: 절대 붙이면 안 됨 (띄어쓰기 필수!)

---

## 💡 프롬프트 개선

**기존 (잘못):**
```
"정확히 2개로 맞추세요"
"정확히 0개로 맞추세요"
```

**개선 (올바름):**
```
"최소 2개 이상 추가하세요"
"목표보다 많아도 괜찮습니다"
"굳이 줄일 필요 없습니다"
```
