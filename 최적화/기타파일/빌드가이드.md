# 🔨 블로그 SEO 최적화 시스템 EXE 빌드 가이드

이 문서는 Python 프로젝트를 단일 EXE 파일로 패키징하는 방법을 설명합니다.

---

## 📋 목차

1. [사전 준비](#사전-준비)
2. [빌드 방법](#빌드-방법)
3. [배포 방법](#배포-방법)
4. [문제 해결](#문제-해결)

---

## 🎯 사전 준비

### 1. Python 설치 확인

```bash
python --version
# 또는
python3 --version
```

**권장:** Python 3.8 이상

### 2. 필수 패키지 설치

```bash
pip install -r requirements.txt
pip install pyinstaller
```

**requirements.txt 내용:**
```
pandas
openpyxl
anthropic
```

### 3. 필수 파일 확인

빌드 전 다음 파일들이 프로젝트 폴더에 있는지 확인:

- ✅ `blog_optimizer_gui.py` (메인 GUI 프로그램)
- ✅ `advanced_seo_optimizer.py` (고급 최적화 엔진)
- ✅ `blog_optimizer.py` (기본 최적화 엔진)
- ✅ `금칙어 수정사항 모음.txt` (필수 데이터 파일)
- ✅ `blog_optimizer.spec` (PyInstaller 설정)
- ✅ `build.bat` (Windows 빌드 스크립트)
- ✅ `build.sh` (Linux/Mac 빌드 스크립트)

---

## 🚀 빌드 방법

### 방법 1: 자동 빌드 스크립트 사용 (추천)

#### Windows:

```cmd
build.bat
```

더블클릭해서 실행하거나 명령 프롬프트에서 실행하세요.

#### Linux/Mac:

```bash
chmod +x build.sh
./build.sh
```

### 방법 2: 수동 빌드

```bash
# 1. 이전 빌드 정리
rm -rf dist build

# 2. PyInstaller 실행
pyinstaller blog_optimizer.spec --clean

# 3. 필수 데이터 파일 복사
cp "금칙어 수정사항 모음.txt" dist/
```

**Windows에서:**
```cmd
rmdir /s /q dist build
pyinstaller blog_optimizer.spec --clean
copy "금칙어 수정사항 모음.txt" dist\
```

---

## 🎁 빌드 결과

빌드가 완료되면 `dist` 폴더에 다음 파일들이 생성됩니다:

```
dist/
├── 블로그SEO최적화.exe          ← 실행 파일 (Windows)
└── 금칙어 수정사항 모음.txt      ← 데이터 파일
```

**Linux/Mac:**
```
dist/
├── 블로그SEO최적화              ← 실행 파일
└── 금칙어 수정사항 모음.txt      ← 데이터 파일
```

---

## 📦 배포 방법

### 1. 배포 패키지 준비

다음 파일들을 함께 묶어서 배포하세요:

```
📁 블로그SEO최적화_v1.0/
  ├── 블로그SEO최적화.exe
  ├── 금칙어 수정사항 모음.txt
  └── 사용가이드.txt (선택사항)
```

### 2. 압축 파일 생성

**Windows:**
- 폴더를 마우스 우클릭 → "압축" → ZIP 파일 생성

**Linux/Mac:**
```bash
zip -r 블로그SEO최적화_v1.0.zip dist/
```

### 3. 사용자에게 전달

압축 파일을 사용자에게 전달하고 다음 안내:

```
📝 사용 방법:

1. 압축 해제
2. "블로그SEO최적화.exe" 더블클릭
3. GUI에서 파일 선택 및 최적화 실행

⚠️ 중요: "금칙어 수정사항 모음.txt" 파일을
   실행 파일과 같은 폴더에 보관하세요!
```

---

## 🔧 빌드 설정 커스터마이징

### blog_optimizer.spec 파일 수정

#### 1. EXE 파일명 변경

```python
exe = EXE(
    ...
    name='블로그SEO최적화',  # ← 여기 수정
    ...
)
```

#### 2. 콘솔 창 표시/숨김

```python
exe = EXE(
    ...
    console=False,  # False: GUI 모드, True: 콘솔 표시
    ...
)
```

#### 3. 추가 데이터 파일 포함

```python
datas = [
    ('금칙어 수정사항 모음.txt', '.'),
    ('추가파일.txt', '.'),  # ← 추가
]
```

#### 4. 아이콘 변경

```python
exe = EXE(
    ...
    icon='myicon.ico',  # ← 아이콘 파일 경로
    ...
)
```

---

## ❓ 문제 해결

### Q1: "ModuleNotFoundError" 오류

**원인:** 필수 패키지 미설치

**해결:**
```bash
pip install pandas openpyxl anthropic pyinstaller
```

### Q2: "금칙어 수정사항 모음.txt" 파일을 찾을 수 없음

**원인:** 데이터 파일이 spec에 포함되지 않음

**해결:**
`blog_optimizer.spec` 파일의 `datas` 확인:
```python
datas = [
    ('금칙어 수정사항 모음.txt', '.'),
]
```

### Q3: EXE 파일이 너무 큼 (100MB+)

**정상입니다.** PyInstaller는 Python 인터프리터와 모든 라이브러리를 포함합니다.

**크기 줄이기:**
```bash
# UPX 압축 사용
pyinstaller blog_optimizer.spec --clean --upx-dir=/path/to/upx
```

### Q4: Windows Defender가 차단함

**정상입니다.** 서명되지 않은 EXE 파일은 경고가 뜰 수 있습니다.

**해결:**
1. "추가 정보" 클릭
2. "실행" 선택
3. 또는 코드 서명 인증서 구매

### Q5: "DLL load failed" 오류

**원인:** Visual C++ 재배포 패키지 필요

**해결:**
Microsoft Visual C++ 재배포 패키지 설치:
https://aka.ms/vs/17/release/vc_redist.x64.exe

### Q6: 빌드는 되는데 실행 시 오류

**디버깅:**
```python
# spec 파일에서 console=True로 변경
console=True,  # 콘솔 창에서 오류 메시지 확인
```

또는 직접 실행:
```bash
cd dist
./블로그SEO최적화.exe
```

### Q7: Anthropic API 키 관련 오류

**해결:**
프로그램 실행 전 환경변수 설정:

**Windows:**
```cmd
set ANTHROPIC_API_KEY=your_api_key_here
```

**Linux/Mac:**
```bash
export ANTHROPIC_API_KEY=your_api_key_here
```

---

## 🔍 빌드 검증

빌드 후 다음을 확인하세요:

### 1. 파일 크기 확인

```bash
# Windows
dir dist

# Linux/Mac
ls -lh dist/
```

**정상 크기:** 50-150MB

### 2. 실행 테스트

```bash
cd dist
./블로그SEO최적화.exe
```

### 3. 기능 테스트

- [x] GUI 창이 정상적으로 열림
- [x] 파일 브라우저 동작
- [x] TXT 파일 최적화 가능
- [x] Excel 파일 최적화 가능
- [x] 금칙어 치환 동작
- [x] 결과 파일 생성

### 4. 클린 환경 테스트

Python이 설치되지 않은 다른 PC에서 테스트:
- [ ] EXE 단독 실행 가능
- [ ] 금칙어 파일 인식
- [ ] 최적화 결과 정상 출력

---

## 📊 빌드 시간 예상

| 단계 | 예상 시간 |
|------|----------|
| 패키지 설치 | 2-5분 |
| 빌드 실행 | 3-10분 |
| 테스트 | 2-3분 |
| **총** | **7-18분** |

---

## 🎓 고급 옵션

### 단일 파일 EXE 생성

```python
# spec 파일에서
exe = EXE(
    ...
    # 모든 파일을 하나의 EXE로 패키징
)
```

이미 `--onefile` 옵션이 적용된 spec입니다.

### 멀티 플랫폼 빌드

**Windows에서 Linux용 빌드:** 불가능 (각 OS에서 빌드 필요)

**해결:** Docker 사용 또는 각 OS에서 개별 빌드

---

## 📝 버전 관리

빌드 시 버전 정보 포함:

```python
# blog_optimizer_gui.py 상단에 추가
__version__ = "1.0.0"
__author__ = "Your Name"
__date__ = "2024-01-13"

# GUI 타이틀에 버전 표시
self.root.title(f"블로그 원고 SEO 최적화 시스템 v{__version__}")
```

---

## 🎉 완료!

빌드가 성공적으로 완료되었다면:

1. ✅ `dist/블로그SEO최적화.exe` 파일 확인
2. ✅ 금칙어 파일이 같은 폴더에 있는지 확인
3. ✅ 실행 테스트
4. ✅ 배포 패키지 생성
5. ✅ 사용자에게 전달

---

## 📞 추가 도움

문제가 계속되면:

1. `build.log` 파일 확인
2. PyInstaller 문서: https://pyinstaller.org/
3. 오류 메시지 전체 복사해서 검색

---

**업데이트:** 2024-01-13
**버전:** 1.0
**작성자:** Blog SEO Optimizer Team
