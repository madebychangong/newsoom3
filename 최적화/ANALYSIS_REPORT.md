# 금칙어 치환 분석 보고서

## 📊 템플릿 분석 결과 (검수전 → 검수 후)

### ✅ 확인된 패턴

1. **# 제목 삭제** (100%)
   - 첫 줄 "# 키워드..." 형태 → 완전 삭제

2. **키워드 출현 감소** (100%)
   - 검수전: 5-6회
   - 검수 후: 2회
   - **3-4회 감소**

3. **"네요" 치환** (100%)
   - "네요" → "고…" / "어요" / "습니다" / "구요"
   - **금칙어 확인!**

4. **"더라구요" 유지** (100%)
   - 검수전: 2개
   - 검수 후: 2개
   - **금칙어 아님! 유지됨**

5. **키워드+조사 제거**
   - "키워드를" → "키워드"
   - "키워드가" → "키워드"
   - "키워드이" → "키워드"
   - "키워드에" → "키워드 관해서" 또는 삭제
   - "키워드는" → "키워드"

6. **기타 금칙어 치환**
   - "병원" → 치환됨
   - "효과" → "약효"
   - "진단" → 치환됨

## 🔍 현재 코드의 문제점

### 1. 잘못된 금칙어 파일 사용
- **현재**: `금칙어 수정사항 모음.txt` 사용
- **사용해야 할 파일**: `금칙어 리스트.xlsx` ✅

### 2. 단순 replace() 사용
```python
# 현재 코드
text = text.replace(forbidden, replacement)
```
- ❌ 문맥 고려 안 됨
- ❌ "광고" → "광고가", "광고는" 등 조사 결합 형태 처리 못 함

### 3. 금칙어 리스트.xlsx 구조
```
금칙어    | 대체어1 | 대체어2 | 대체어3 | ...
네요     | 고…    | 어요    | 습니다  | 구요
광고     | 홍보    | 댓글알바 | 알림    | 소개
광고가   | 홍보가  | 안내가  | 소개가  |
광고는   | 홍보는  | 안내는  | 소개는  |
```

**특징:**
- 조사 결합 형태를 **별도 항목**으로 관리
- 각 금칙어에 **여러 대체어** 제공 (랜덤 선택)
- 총 **85개** 금칙어

## ❌ "하더라구요"에 대한 오해

### 금칙어 수정사항 모음.txt
```
하더라구요.
하고...
```

### 실제 템플릿 결과
- "더라구요" → **유지됨** (금칙어 아님!)
- "하더라구요." → 정확히 이 패턴만 치환?

### 결론
**"하더라구요"는 금칙어가 아닙니다!**
금칙어 리스트.xlsx에도 없음.

## 📋 필요한 작업

### 1. 금칙어 로더 교체
- [ ] 금칙어 리스트.xlsx 읽기
- [ ] 조사 결합 형태 우선 처리
- [ ] 대체어 랜덤 선택

### 2. 문맥 고려 치환 로직
- [ ] 긴 패턴 우선 치환 ("광고가" before "광고")
- [ ] 여러 대체어 중 문맥에 맞는 것 선택

### 3. 검증
- [ ] 템플릿 20개 원고로 테스트
- [ ] 치환 결과가 검수 후와 동일한지 확인

## 🎯 최종 목표

**금칙어 리스트.xlsx 기반으로 문맥에 맞는 자연스러운 치환**
