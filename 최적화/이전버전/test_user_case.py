#!/usr/bin/env python3
"""
ì‚¬ìš©ì ì‹¤ì œ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
"""

from search_optimizer import SearchOptimizer

# ì‚¬ìš©ì ì›ê³ 
text = """ê°±ë…„ê¸°í™ì¡° ë•Œë¬¸ì— ì§„ì§œ ì¼ìƒìƒí™œì´ í˜ë“¤ì–´ì„œ ê¸€ ì˜¬ë ¤ë´…ë‹ˆë‹¤.
ì´ê±° ì¦.ìƒì´ ì‹œì‘ëœ ì§€ ë²Œì¨ 6ê°œì›”ì´ ë„˜ì—ˆëŠ”ë°,
ì²˜ìŒì—” ê·¸ëƒ¥ í”¼ë¡œ ë•Œë¬¸ì´ë¼ê³  ìƒê°í–ˆì–´ìš”.
ì´ê±°ì¸ ì¤„ ì•Œê²Œ ëœ ê±´ ìµœê·¼ ì¹œêµ¬ë¥¼ í†µí•´ì„œì˜€ì–´ìš”.

ìš”ì¦˜ì€ ê°‘ìê¸° ì–¼êµ´ì´ í™”ëˆê±°ë¦¬ê³  ì˜¨ëª¸ì— ì—´ì´ ì˜¤ë¥´ë©´ì„œ,
ì‚¬ì†Œí•œ ì¼ì—ë„ ê°ì • ê¸°ë³µì´ ë§ì´ ì‹¬í•´ì¡Œì–´ìš”.
ë°¤ì— ì ë„ ëª» ìëŠ” ë‚ ì´ ë§ì•„ì ¸ì„œ ë§Œì„±í”¼ë¡œì— ì‹œë‹¬ë¦¬ê³  ìˆê³ ,
'ë‚˜ë„ ì´ì œ ëŠ™ì—ˆêµ¬ë‚˜' í•˜ëŠ” ìš°ìš¸í•œ ìƒê°ê¹Œì§€ ë“¤ë”ë¼ê³ ìš”.

ì‚°ë¶€ì¸ê³¼ì—ì„œ í˜¸ë¥´ëª¬ ì¹˜ë£Œ ë¬¸ì˜ë„ ë°›ì•„ë´¤ëŠ”ë°,
ì•” ìœ„í—˜ ê°™ì€ ë¶€ì‘ìš©ì´ ë¬´ì„œì›Œì„œ ì„ ëœ» ì‹œì‘ì„ ëª»í•˜ê² ì–´ìš”.
ì„ë¥˜ì¦™ì´ë‚˜ ì¹¡ì¦™ì´ ê°±ë…„ê¸°ì— ì¢‹ë‹¤ê³  í•´ì„œ ê¾¸ì¤€íˆ ë¨¹ì–´ë´¤ì§€ë§Œ,
ë”±íˆ í° ì•½íš¨ëŠ” ëª» ë´¤ì–´ìš”.
ë¹„ì‹¼ í•œì•½ë„ ë¨¹ì–´ë´¤ëŠ”ë° ë¹„ìš©ì´ ë¶€ë‹´ë¼ì„œ ì¤‘ë‹¨í–ˆê³ ìš”.

ì´ëŸ¬ë‹¤ ì •ë§ ë‹µë‹µí•œ ë§ˆìŒì— ì¹œêµ¬í•œí…Œ í•˜ì†Œì—°í•˜ë‹¤ê°€,
ìš°ì—°íˆ ì´ê±° ë¼ëŠ” ê±¸ ì•Œê²Œ ëì–´ìš”.
ê±´ê°•ê¸°ëŠ¥ì‹í’ˆì´ ì •ë§ ì•½íš¨ê°€ ìˆì„ì§€ ì˜êµ¬ì‹¬ë„ ë“¤ê³ ,
ì¸í„°ë„·ì—” í™ë³´ì„± í›„ê¸°ë“¤ì´ ë§ì•„ì„œ ë­˜ ë¯¿ì–´ì•¼ í• ì§€ ëª¨ë¥´ê² ë”ë¼ê³ ìš”.

ê·¸ë˜ì„œ ì‹¤ì œë¡œ ê²½í—˜í•´ë³´ì‹  ë¶„ë“¤ì˜ ì†”ì§í•œ ì¡°ì–¸ì„ ë“£ê³  ì‹¶ì–´ì„œ,
ì´ë ‡ê²Œ ìš©ê¸°ë‚´ì„œ ê¸€ì„ ì˜¬ë¦½ë‹ˆë‹¤.
í˜¹ì‹œ ì´ê±° ê´€ë¦¬ì— ë„ì›€ë˜ëŠ” ë°©ë²• ìˆìœ¼ì‹œë©´ ì•Œë ¤ì£¼ì„¸ìš”.
ì•½íš¨ ë³´ì‹  ì œí’ˆì´ë‚˜ ìƒí™œìŠµê´€ ê°œì„ ë²• ìˆìœ¼ë©´ ê³µìœ  ë¶€íƒë“œë ¤ìš”.

ê°±ë…„ê¸°í™ì¡° ë§ê³ ë„ ê°±ë…„ê¸° ì¦.ìƒ ì™„í™”ì— ì¢‹ì€ ë‹¤ë¥¸ ë°©ë²•ì´ë‚˜,
ì œê°€ ëª¨ë¥´ëŠ” ë” ë‚˜ì€ ì œí’ˆë“¤ì´ ìˆë‹¤ë©´ ì¶”ì²œí•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤."""

keyword = "ê°±ë…„ê¸°í™ì¡°"

print("=" * 80)
print("ì‚¬ìš©ì ì‹¤ì œ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸")
print("=" * 80)

print(f"\ní‚¤ì›Œë“œ: {keyword}")
print(f"ì›ë³¸ ê¸¸ì´: {len(text)}ì")
print(f"í‚¤ì›Œë“œ ì¶œí˜„: {text.count(keyword)}íšŒ")

# ê¸ˆì¹™ì–´ í™•ì¸
forbidden_check = ["ì¦.ìƒ", "ì‚°ë¶€ì¸ê³¼", "ë¶€ì‘ìš©", "ì•½íš¨", "ë¹„ìš©", "ì˜êµ¬ì‹¬", "í™ë³´ì„±"]
print(f"\nì›ë³¸ ê¸ˆì¹™ì–´ ì²´í¬:")
for word in forbidden_check:
    count = text.count(word)
    if count > 0:
        print(f"  âŒ '{word}' {count}íšŒ ë°œê²¬")

# ìµœì í™” ì‹¤í–‰
print("\n" + "=" * 80)
print("ìµœì í™” ì‹¤í–‰ ì¤‘...")
print("=" * 80)

optimizer = SearchOptimizer(use_ai=False)
result = optimizer.optimize_for_search(text, keyword)

print(f"\nâœ… ìµœì í™” ì™„ë£Œ")
print(f"\nğŸ“Š ë³€ê²½ì‚¬í•­:")
for change in result['changes']:
    print(f"  {change}")

print(f"\ní‚¤ì›Œë“œ ì¶œí˜„: {result['keyword_count']}íšŒ")
print(f"ê¸¸ì´ ë³€í™”: {result['length_diff']:+d}ì")

print(f"\n" + "=" * 80)
print("ìµœì í™”ëœ ì›ê³ :")
print("=" * 80)
print(result['optimized_text'])

# ê¸ˆì¹™ì–´ ì¬í™•ì¸
print(f"\n" + "=" * 80)
print("ìµœì í™” í›„ ê¸ˆì¹™ì–´ ì²´í¬:")
print("=" * 80)
optimized = result['optimized_text']
for word in forbidden_check:
    count = optimized.count(word)
    if count > 0:
        print(f"  âŒ '{word}' {count}íšŒ ë‚¨ìŒ!")
    else:
        print(f"  âœ… '{word}' ì œê±°ë¨")
